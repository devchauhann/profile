<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Profile Generator</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@500;700&display=swap"
        rel="stylesheet">
    <!-- Marked.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        :root {
            --glass-border: rgba(255, 255, 255, 0.08);
            --glass-bg: rgba(13, 17, 23, 0.7);
            --accent-gradient: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
        }

        body {
            background-color: #050505;
            background-image:
                radial-gradient(circle at 15% 50%, rgba(99, 102, 241, 0.15) 0%, transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(168, 85, 247, 0.15) 0%, transparent 25%);
            color: #e2e8f0;
            font-family: 'Inter', sans-serif;
            background-attachment: fixed;
        }

        h1,
        h2,
        h3,
        .font-heading {
            font-family: 'Space Grotesk', sans-serif;
        }

        /* Glassmorphism Panels */
        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
        }

        /* Modern Input Styling */
        .input-group {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .input-group:focus-within {
            background: rgba(255, 255, 255, 0.05);
            border-color: #818cf8;
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2);
            transform: translateY(-1px);
        }

        input,
        textarea,
        select {
            background: transparent;
            border: none;
            color: #f1f5f9;
            width: 100%;
            outline: none;
            font-size: 0.9rem;
        }

        input::placeholder,
        textarea::placeholder {
            color: #64748b;
        }

        select option {
            background-color: #0f172a;
            color: #e2e8f0;
        }

        /* Accordion */
        details {
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
            background: rgba(255, 255, 255, 0.02);
            border-radius: 0.75rem;
            transition: all 0.3s ease;
        }

        details[open] {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
        }

        details>summary {
            list-style: none;
            outline: none;
            cursor: pointer;
        }

        details>summary::-webkit-details-marker {
            display: none;
        }

        details[open]>summary .arrow-icon {
            transform: rotate(180deg);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Markdown Styles */
        .markdown-body {
            color: #c9d1d9;
            font-size: 16px;
            line-height: 1.6;
        }

        .markdown-body h1,
        .markdown-body h2 {
            border-bottom: 1px solid #30363d;
            padding-bottom: 0.3em;
            margin-bottom: 16px;
            font-weight: 700;
            color: #f0f6fc;
        }

        .markdown-body a {
            color: #58a6ff;
            text-decoration: none;
        }

        .markdown-body a:hover {
            text-decoration: underline;
        }

        .markdown-body table th {
            background-color: #161b22;
        }

        .markdown-body table tr:nth-child(2n) {
            background-color: #161b22;
        }

        .markdown-body table th,
        .markdown-body table td {
            border: 1px solid #30363d;
            padding: 8px 16px;
        }

        .markdown-body img {
            background-color: transparent;
        }

        /* Utilities */
        .btn-primary {
            background: var(--accent-gradient);
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            opacity: 0.9;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.4);
        }
    </style>
</head>

<body
    class="flex flex-col md:flex-row md:h-screen md:overflow-hidden min-h-screen selection:bg-indigo-500 selection:text-white">

    <!-- Left Sidebar: Controls -->
    <aside
        class="w-full md:w-1/2 lg:w-5/12 flex flex-col glass-panel border-r-0 md:border-r z-20 relative shadow-2xl md:h-full">
        <!-- Header -->
        <header
            class="p-6 border-b border-white/5 bg-black/20 backdrop-blur-xl sticky top-0 z-30 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold tracking-tight text-white flex items-center gap-3">
                    Github Profile
                </h1>
            </div>
            <button onclick="resetForm()"
                class="group flex items-center gap-2 px-3 py-1.5 rounded-full border border-red-500/20 bg-red-500/5 hover:bg-red-500/10 text-xs text-red-400 transition-all">
                <i class="fas fa-trash-alt group-hover:rotate-12 transition-transform"></i>
                <span class="font-medium">Reset</span>
            </button>
        </header>

        <!-- Form Area -->
        <form id="profileForm" class="flex-1 md:overflow-y-auto overflow-visible p-6 space-y-6 pb-6 scroll-smooth">

            <!-- Section 1: Intro -->
            <details class="group" open>
                <summary class="flex items-center justify-between p-4 font-semibold text-gray-200 transition-colors">
                    <span class="flex items-center gap-3">
                        <span
                            class="w-8 h-8 rounded-full bg-indigo-500/10 border border-indigo-500/20 flex items-center justify-center text-indigo-400 text-sm font-bold">1</span>
                        <span class="tracking-wide">Profile Essentials</span>
                    </span>
                    <i class="fas fa-chevron-down text-gray-500 arrow-icon transition-transform duration-300"></i>
                </summary>
                <div class="p-4 pt-0 space-y-5">

                    <div class="grid grid-cols-2 gap-4">
                        <div class="space-y-2">
                            <label
                                class="text-[10px] font-bold text-gray-500 uppercase tracking-wider ml-1">Name</label>
                            <div class="input-group p-3 rounded-lg">
                                <input type="text" id="name" placeholder="John Doe">
                            </div>
                        </div>
                        <div class="space-y-2">
                            <label class="text-[10px] font-bold text-gray-500 uppercase tracking-wider ml-1">GitHub
                                Username</label>
                            <div class="input-group p-3 rounded-lg flex items-center gap-2">
                                <i class="fab fa-github text-gray-500"></i>
                                <input type="text" id="social-github" placeholder="username"
                                    oninput="updateProfileImage()">
                            </div>
                        </div>
                    </div>

                    <!-- Profile Image Preview -->
                    <div
                        class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 p-4 rounded-xl border border-white/5 text-center">
                        <p class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3">Profile Picture Preview
                        </p>
                        <div id="profile-image-preview" class="flex justify-center mb-3">
                            <img id="preview-avatar" src="https://via.placeholder.com/150" alt="Profile"
                                class="w-24 h-24 rounded-full border-4 border-indigo-500/30 object-cover transition-all hover:border-indigo-500/60">
                        </div>
                        <p class="text-xs text-gray-500">Enter GitHub username above to auto-load avatar</p>
                    </div>

                    <div class="space-y-2">
                        <label class="text-[10px] font-bold text-gray-500 uppercase tracking-wider ml-1">Role /
                            Subtitle</label>
                        <div class="input-group p-3 rounded-lg">
                            <input type="text" id="subtitle" placeholder="Full Stack Developer">
                        </div>
                    </div>

                    <div class="space-y-2">
                        <label class="text-[10px] font-bold text-gray-500 uppercase tracking-wider ml-1">Banner Image
                            URL</label>
                        <div class="input-group p-3 rounded-lg flex items-center gap-3">
                            <i class="fas fa-image text-gray-600"></i>
                            <input type="text" id="banner-url" placeholder="https://imgur.com/...">
                        </div>
                    </div>

                    <div class="grid grid-cols-1 gap-3 pt-2">
                        <div class="input-group px-3 py-2 rounded-lg flex items-center gap-3">
                            <span class="text-lg">üî≠</span>
                            <input type="text" id="working" placeholder="Currently working on...">
                        </div>
                        <div class="input-group px-3 py-2 rounded-lg flex items-center gap-3">
                            <span class="text-lg">üå±</span>
                            <input type="text" id="learning" placeholder="Currently learning...">
                        </div>
                        <div class="input-group px-3 py-2 rounded-lg flex items-center gap-3">
                            <span class="text-lg">üëØ</span>
                            <input type="text" id="collaborating" placeholder="Looking to collaborate on...">
                        </div>
                        <div class="input-group px-3 py-2 rounded-lg flex items-center gap-3">
                            <span class="text-lg">ü§ù</span>
                            <input type="text" id="help" placeholder="Looking for help with...">
                        </div>
                        <div class="input-group px-3 py-2 rounded-lg flex items-center gap-3">
                            <span class="text-lg">üí¨</span>
                            <input type="text" id="askme" placeholder="Ask me about...">
                        </div>
                        <div class="input-group px-3 py-2 rounded-lg flex items-center gap-3">
                            <span class="text-lg">üì´</span>
                            <input type="text" id="email" placeholder="How to reach me...">
                        </div>
                        <div class="input-group px-3 py-2 rounded-lg flex items-center gap-3">
                            <span class="text-lg">‚ö°</span>
                            <input type="text" id="funfact" placeholder="Fun fact...">
                        </div>
                        <div class="input-group px-3 py-2 rounded-lg flex items-center gap-3">
                            <span class="text-lg">üë®‚Äçüíª</span>
                            <input type="text" id="portfolio-site"
                                placeholder="All my projects are available at (URL)...">
                        </div>
                        <div class="input-group px-3 py-2 rounded-lg flex items-center gap-3">
                            <span class="text-lg">üìù</span>
                            <input type="text" id="blog-site" placeholder="I write articles on (URL)...">
                        </div>
                    </div>
                </div>
            </details>
            


            <!-- Section 2: Skills -->
            <details class="group">
                <summary class="flex items-center justify-between p-4 font-semibold text-gray-200 transition-colors">
                    <span class="flex items-center gap-3">
                        <span
                            class="w-8 h-8 rounded-full bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center text-emerald-400 text-sm font-bold">2</span>
                        <span class="tracking-wide">Tech Stack</span>
                    </span>
                    <i class="fas fa-chevron-down text-gray-500 arrow-icon transition-transform duration-300"></i>
                </summary>
                <div class="p-4 pt-0 space-y-6">

                    <div class="grid grid-cols-2 gap-4">
                        <div class="space-y-1">
                            <label class="text-[10px] font-bold text-gray-500 uppercase tracking-wider">Display
                                Mode</label>
                            <div class="input-group px-2 py-1.5 rounded-lg">
                                <select id="skill-display-mode" onchange="toggleSkillMode()">
                                    <option value="badges">Badges (Shields.io)</option>
                                    <option value="icons">Icons (SkillIcons.dev)</option>
                                </select>
                            </div>
                        </div>
                        <div class="space-y-1" id="badge-style-container">
                            <label class="text-[10px] font-bold text-gray-500 uppercase tracking-wider">Badge
                                Style</label>
                            <div class="input-group px-2 py-1.5 rounded-lg">
                                <select id="badge-style" onchange="updateAllBadges()">
                                    <option value="for-the-badge">For the Badge</option>
                                    <option value="flat">Flat</option>
                                    <option value="flat-square">Flat Square</option>
                                    <option value="plastic">Plastic</option>
                                    <option value="social">Social</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Search -->
                    <div class="input-group p-2 rounded-lg flex items-center gap-2">
                        <i class="fas fa-search text-gray-500 ml-2"></i>
                        <input type="text" id="skill-search" placeholder="Search skills..." onkeyup="filterSkills()">
                    </div>

                    <!-- Categories -->
                    <div id="skills-container" class="space-y-4">
                        <div class="space-y-2">
                            <h3 class="text-xs font-bold text-indigo-300 uppercase opacity-70">Languages</h3>
                            <div class="flex flex-wrap gap-2" id="skills-languages"></div>
                        </div>
                        <div class="space-y-2">
                            <h3 class="text-xs font-bold text-indigo-300 uppercase opacity-70">Frontend & Mobile</h3>
                            <div class="flex flex-wrap gap-2" id="skills-frontend"></div>
                        </div>
                        <div class="space-y-2">
                            <h3 class="text-xs font-bold text-indigo-300 uppercase opacity-70">Backend & DB</h3>
                            <div class="flex flex-wrap gap-2" id="skills-backend"></div>
                        </div>
                        <div class="space-y-2">
                            <h3 class="text-xs font-bold text-indigo-300 uppercase opacity-70">Tools, Cloud & AI</h3>
                            <div class="flex flex-wrap gap-2" id="skills-tools"></div>
                        </div>
                    </div>
                </div>
            </details>

            <!-- Section 3: Socials -->
            <details class="group">
                <summary class="flex items-center justify-between p-4 font-semibold text-gray-200 transition-colors">
                    <span class="flex items-center gap-3">
                        <span
                            class="w-8 h-8 rounded-full bg-purple-500/10 border border-purple-500/20 flex items-center justify-center text-purple-400 text-sm font-bold">3</span>
                        <span class="tracking-wide">Social Links</span>
                    </span>
                    <i class="fas fa-chevron-down text-gray-500 arrow-icon transition-transform duration-300"></i>
                </summary>
                <div class="p-4 pt-0">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3" id="socials-grid">
                        <!-- Social Inputs -->
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-github text-white w-5 text-center"></i>
                            <input type="text" id="social-github" placeholder="GitHub Username">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-linkedin text-blue-500 w-5 text-center"></i>
                            <input type="text" id="social-linkedin" placeholder="LinkedIn">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-twitter text-blue-400 w-5 text-center"></i>
                            <input type="text" id="social-twitter" placeholder="Twitter">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-instagram text-pink-500 w-5 text-center"></i>
                            <input type="text" id="social-instagram" placeholder="Instagram">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-facebook text-blue-600 w-5 text-center"></i>
                            <input type="text" id="social-facebook" placeholder="Facebook">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-discord text-indigo-400 w-5 text-center"></i>
                            <input type="text" id="social-discord" placeholder="Discord Invite/User">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-medium text-white w-5 text-center"></i>
                            <input type="text" id="social-medium" placeholder="Medium">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-dev text-white w-5 text-center"></i>
                            <input type="text" id="social-devto" placeholder="Dev.to">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-youtube text-red-500 w-5 text-center"></i>
                            <input type="text" id="social-youtube" placeholder="YouTube">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-twitch text-purple-400 w-5 text-center"></i>
                            <input type="text" id="social-twitch" placeholder="Twitch">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-stack-overflow text-orange-500 w-5 text-center"></i>
                            <input type="text" id="social-stackoverflow" placeholder="StackOverflow ID">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-codepen text-white w-5 text-center"></i>
                            <input type="text" id="social-codepen" placeholder="CodePen">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-dribbble text-pink-400 w-5 text-center"></i>
                            <input type="text" id="social-dribbble" placeholder="Dribbble">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-behance text-blue-400 w-5 text-center"></i>
                            <input type="text" id="social-behance" placeholder="Behance">
                        </div>
                        <!-- Coding Platforms -->
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fas fa-code text-yellow-500 w-5 text-center"></i>
                            <input type="text" id="social-leetcode" placeholder="LeetCode">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fas fa-code text-green-500 w-5 text-center"></i>
                            <input type="text" id="social-hackerrank" placeholder="HackerRank">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fas fa-code text-red-500 w-5 text-center"></i>
                            <input type="text" id="social-codeforces" placeholder="CodeForces">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fas fa-code text-blue-300 w-5 text-center"></i>
                            <input type="text" id="social-topcoder" placeholder="TopCoder">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fas fa-code text-blue-500 w-5 text-center"></i>
                            <input type="text" id="social-kaggle" placeholder="Kaggle">
                        </div>
                    </div>
                </div>
            </details>

            <!-- Section 4: Projects -->
            <details class="group">
                <summary class="flex items-center justify-between p-4 font-semibold text-gray-200 transition-colors">
                    <span class="flex items-center gap-3">
                        <span
                            class="w-8 h-8 rounded-full bg-cyan-500/10 border border-cyan-500/20 flex items-center justify-center text-cyan-400 text-sm font-bold">4</span>
                        <span class="tracking-wide">Projects</span>
                    </span>
                    <i class="fas fa-chevron-down text-gray-500 arrow-icon transition-transform duration-300"></i>
                </summary>
                <div class="p-4 pt-0 space-y-5">

                    <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 p-4 rounded-xl border border-white/5">
                        <label
                            class="text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-2 block">Auto-Fetch
                            Repositories</label>
                        <div class="flex gap-2">
                            <div class="input-group px-3 py-2 rounded-lg flex-1">
                                <input type="text" id="project-username" placeholder="GitHub Username">
                            </div>
                            <button type="button" onclick="fetchProjects()"
                                class="btn-primary text-white text-xs font-bold px-5 rounded-lg shadow-lg hover:shadow-indigo-500/20 active:scale-95 transition-all">
                                Fetch
                            </button>
                        </div>
                    </div>

                    <div id="projects-list" class="space-y-4">
                        <!-- Projects injected here -->
                    </div>

                    <button type="button" onclick="addProjectInput()"
                        class="w-full py-3 border border-dashed border-gray-600 text-gray-400 hover:text-white hover:border-gray-400 hover:bg-white/5 rounded-xl text-sm transition-all font-medium">
                        <i class="fas fa-plus mr-2"></i> Add Custom Project
                    </button>
                </div>
            </details>

            <!-- Section 5: Donations -->
            <details class="group">
                <summary class="flex items-center justify-between p-4 font-semibold text-gray-200 transition-colors">
                    <span class="flex items-center gap-3">
                        <span
                            class="w-8 h-8 rounded-full bg-pink-500/10 border border-pink-500/20 flex items-center justify-center text-pink-400 text-sm font-bold">5</span>
                        <span class="tracking-wide">Sponsorships</span>
                    </span>
                    <i class="fas fa-chevron-down text-gray-500 arrow-icon transition-transform duration-300"></i>
                </summary>
                <div class="p-4 pt-0">
                    <div class="grid grid-cols-1 gap-3">
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fas fa-coffee text-yellow-500 w-5 text-center text-lg"></i>
                            <input type="text" id="donate-buymeacoffee" placeholder="Buy Me a Coffee">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fas fa-mug-hot text-blue-400 w-5 text-center text-lg"></i>
                            <input type="text" id="donate-kofi" placeholder="Ko-fi">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-patreon text-red-400 w-5 text-center text-lg"></i>
                            <input type="text" id="donate-patreon" placeholder="Patreon">
                        </div>
                        <div class="input-group p-2.5 rounded-lg flex items-center gap-3">
                            <i class="fab fa-paypal text-blue-600 w-5 text-center text-lg"></i>
                            <input type="text" id="donate-paypal" placeholder="PayPal">
                        </div>
                    </div>
                </div>
            </details>

            <!-- Section 6: Stats & Config -->
            <details class="group">
                <summary class="flex items-center justify-between p-4 font-semibold text-gray-200 transition-colors">
                    <span class="flex items-center gap-3">
                        <span
                            class="w-8 h-8 rounded-full bg-orange-500/10 border border-orange-500/20 flex items-center justify-center text-orange-400 text-sm font-bold">6</span>
                        <span class="tracking-wide">Widgets & Stats</span>
                    </span>
                    <i class="fas fa-chevron-down text-gray-500 arrow-icon transition-transform duration-300"></i>
                </summary>
                <div class="p-4 pt-0 space-y-4">

                    <div class="bg-white/5 p-4 rounded-xl border border-white/5 space-y-4">
                        <div class="flex items-center justify-between">
                            <span class="text-sm font-medium text-gray-300">Stats Theme</span>
                            <div class="input-group px-2 py-1 rounded-lg w-32">
                                <select id="stats-theme">
                                    <option value="tokyonight">Tokyo Night</option>
                                    <option value="radical">Radical</option>
                                    <option value="dracula">Dracula</option>
                                    <option value="gruvbox">Gruvbox</option>
                                    <option value="onedark">One Dark</option>
                                    <option value="cobalt">Cobalt</option>
                                    <option value="synthwave">Synthwave</option>
                                    <option value="highcontrast">High Contrast</option>
                                </select>
                            </div>
                        </div>

                        <label class="flex items-center gap-3 cursor-pointer group/item">
                            <div class="relative flex items-center">
                                <input type="checkbox" id="addon-stats"
                                    class="peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-white/20 bg-white/5 transition-all checked:border-indigo-500 checked:bg-indigo-500">
                                <i
                                    class="fas fa-check absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-[10px] text-white opacity-0 transition-opacity peer-checked:opacity-100"></i>
                            </div>
                            <span class="text-sm text-gray-300 group-hover/item:text-white transition-colors">GitHub
                                Stats Graph</span>
                        </label>

                        <label class="flex items-center gap-3 cursor-pointer group/item">
                            <div class="relative flex items-center">
                                <input type="checkbox" id="addon-streak"
                                    class="peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-white/20 bg-white/5 transition-all checked:border-indigo-500 checked:bg-indigo-500">
                                <i
                                    class="fas fa-check absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-[10px] text-white opacity-0 transition-opacity peer-checked:opacity-100"></i>
                            </div>
                            <span class="text-sm text-gray-300 group-hover/item:text-white transition-colors">Commit
                                Streak</span>
                        </label>

                        <label class="flex items-center gap-3 cursor-pointer group/item">
                            <div class="relative flex items-center">
                                <input type="checkbox" id="addon-trophy"
                                    class="peer h-5 w-5 cursor-pointer appearance-none rounded-md border border-white/20 bg-white/5 transition-all checked:border-indigo-500 checked:bg-indigo-500">
                                <i
                                    class="fas fa-check absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 text-[10px] text-white opacity-0 transition-opacity peer-checked:opacity-100"></i>
                            </div>
                            <span class="text-sm text-gray-300 group-hover/item:text-white transition-colors">GitHub
                                Trophies</span>
                        </label>

                        <div class="border-t border-white/10 pt-3 mt-3">
                            <p class="text-xs text-gray-400 font-bold mb-2">Profile Badges</p>
                            <div class="grid grid-cols-2 gap-2">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="checkbox" id="addon-visitors"
                                        class="rounded border-gray-600 bg-white/5 text-indigo-500 focus:ring-0">
                                    <span class="text-xs text-gray-300">Visitor Count</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="checkbox" id="addon-twitter-badge"
                                        class="rounded border-gray-600 bg-white/5 text-indigo-500 focus:ring-0">
                                    <span class="text-xs text-gray-300">Twitter Follow</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </details>

        </form>

        <!-- Footer -->
        <footer class="p-4 border-t border-white/5 bg-black/40 backdrop-blur-xl z-30">
            <div class="flex items-center justify-between px-2">
                <span class="text-xs font-medium text-gray-500 tracking-wide">¬© 2024 GitHub Profile</span>
                <div class="flex items-center gap-5">
                    <a href="https://github.com/devchauhann" target="_blank"
                        class="text-gray-500 hover:text-white transition-all transform hover:scale-110" title="GitHub">
                        <i class="fab fa-github text-lg"></i>
                    </a>
                    <a href="https://twitter.com" target="_blank"
                        class="text-gray-500 hover:text-white transition-all transform hover:scale-110"
                        title="X (Twitter)">
                        <i class="fab fa-x-twitter text-lg"></i>
                    </a>
                    <a href="mailto:devgurjar9897@gmail.com"
                        class="text-gray-500 hover:text-red-400 transition-all transform hover:scale-110" title="Email">
                        <i class="fas fa-envelope text-lg"></i>
                    </a>
                </div>
            </div>
        </footer>
    </aside>

    <!-- Right Sidebar: Output -->
    <main class="w-full md:w-1/2 lg:w-7/12 flex flex-col md:h-full h-auto relative z-10">
        <!-- Decoration Blurs -->
        <div
            class="absolute top-10 right-10 w-64 h-64 bg-purple-600/20 rounded-full blur-3xl -z-10 pointer-events-none">
        </div>
        <div
            class="absolute bottom-10 left-10 w-80 h-80 bg-blue-600/20 rounded-full blur-3xl -z-10 pointer-events-none">
        </div>

        <!-- Toolbar -->
        <div
            class="sticky top-0 z-30 px-6 py-4 flex items-center justify-between border-b border-white/5 bg-black/40 backdrop-blur-md">
            <div class="flex p-1 rounded-xl bg-white/5 border border-white/5">
                <button id="tab-preview"
                    class="text-xs font-bold px-5 py-2 rounded-lg bg-indigo-600 text-white shadow-lg shadow-indigo-500/30 transition-all"
                    onclick="switchTab('preview')">
                    Preview
                </button>
                <button id="tab-code"
                    class="text-xs font-bold px-5 py-2 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition-all"
                    onclick="switchTab('code')">
                    Markdown
                </button>
            </div>
            <div class="flex gap-3">
                <button onclick="copyToClipboard()"
                    class="flex items-center gap-2 px-4 py-2 rounded-lg bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 hover:bg-emerald-500/20 transition-all text-xs font-bold uppercase tracking-wide">
                    <i class="far fa-copy"></i> Copy
                </button>
                <button onclick="downloadMarkdown()"
                    class="flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-gray-300 hover:bg-white/10 transition-all text-xs font-bold uppercase tracking-wide">
                    <i class="fas fa-download"></i> Save
                </button>
            </div>
        </div>

        <!-- Preview Area -->
        <div id="preview-container" class="flex-1 md:overflow-y-auto overflow-visible p-4 md:p-8 scroll-smooth">
            <div class="max-w-4xl mx-auto glass-panel rounded-xl overflow-hidden shadow-2xl animate-fade-in-up">
                <!-- Mac-style Dots -->
                <div class="h-8 bg-black/40 border-b border-white/5 flex items-center px-4 gap-2">
                    <div class="w-3 h-3 rounded-full bg-red-500/80"></div>
                    <div class="w-3 h-3 rounded-full bg-yellow-500/80"></div>
                    <div class="w-3 h-3 rounded-full bg-green-500/80"></div>
                </div>
                <!-- Content -->
                <div id="preview-content" class="markdown-body p-6 md:p-10 bg-[#0d1117]/90 min-h-[500px]">
                    <!-- Content injected here -->
                </div>
            </div>
        </div>

        <!-- Code Area -->
        <div id="code-container" class="hidden flex-1 md:overflow-y-auto overflow-visible p-0 relative bg-[#0d1117]">
            <textarea id="code-output"
                class="w-full h-full bg-[#0d1117] text-gray-300 font-mono text-sm p-8 resize-none focus:outline-none"
                readonly></textarea>
        </div>
    </main>

    <script>
        // --- Data & Config ---
        let projectsData = [];

        // Massive list of skills
        const skillsData = {
            languages: [
                { name: 'JavaScript', color: 'F7DF1E', logo: 'javascript', logoColor: 'black', id: 'js' },
                { name: 'TypeScript', color: '3178C6', logo: 'typescript', logoColor: 'white', id: 'ts' },
                { name: 'Python', color: '3776AB', logo: 'python', logoColor: 'white', id: 'python' },
                { name: 'Java', color: '007396', logo: 'java', logoColor: 'white', id: 'java' },
                { name: 'C', color: 'A8B9CC', logo: 'c', logoColor: 'white', id: 'c' },
                { name: 'C++', color: '00599C', logo: 'c%2B%2B', logoColor: 'white', id: 'cpp' },
                { name: 'C#', color: '239120', logo: 'c-sharp', logoColor: 'white', id: 'cs' },
                { name: 'Go', color: '00ADD8', logo: 'go', logoColor: 'white', id: 'go' },
                { name: 'Rust', color: '000000', logo: 'rust', logoColor: 'white', id: 'rust' },
                { name: 'PHP', color: '777BB4', logo: 'php', logoColor: 'white', id: 'php' },
                { name: 'Ruby', color: 'CC342D', logo: 'ruby', logoColor: 'white', id: 'ruby' },
                { name: 'Swift', color: 'F05138', logo: 'swift', logoColor: 'white', id: 'swift' },
                { name: 'Kotlin', color: '7F52FF', logo: 'kotlin', logoColor: 'white', id: 'kotlin' },
                { name: 'Dart', color: '0175C2', logo: 'dart', logoColor: 'white', id: 'dart' },
                { name: 'Lua', color: '2C2D72', logo: 'lua', logoColor: 'white', id: 'lua' },
                { name: 'R', color: '276DC3', logo: 'r', logoColor: 'white', id: 'r' },
                { name: 'Perl', color: '39457E', logo: 'perl', logoColor: 'white', id: 'perl' },
                { name: 'Haskell', color: '5D4F85', logo: 'haskell', logoColor: 'white', id: 'haskell' },
                { name: 'Julia', color: '9558B2', logo: 'julia', logoColor: 'white', id: 'julia' },
                { name: 'Scala', color: 'DC322F', logo: 'scala', logoColor: 'white', id: 'scala' },
                { name: 'Elixir', color: '4B275F', logo: 'elixir', logoColor: 'white', id: 'elixir' },
                { name: 'Bash', color: '4EAA25', logo: 'gnu-bash', logoColor: 'white', id: 'bash' }
            ],
            frontend: [
                { name: 'HTML5', color: 'E34F26', logo: 'html5', logoColor: 'white', id: 'html' },
                { name: 'CSS3', color: '1572B6', logo: 'css3', logoColor: 'white', id: 'css' },
                { name: 'React', color: '61DAFB', logo: 'react', logoColor: 'black', id: 'react' },
                { name: 'Vue', color: '4FC08D', logo: 'vuedotjs', logoColor: 'white', id: 'vue' },
                { name: 'Angular', color: 'DD0031', logo: 'angular', logoColor: 'white', id: 'angular' },
                { name: 'Svelte', color: 'FF3E00', logo: 'svelte', logoColor: 'white', id: 'svelte' },
                { name: 'Next.js', color: '000000', logo: 'nextdotjs', logoColor: 'white', id: 'nextjs' },
                { name: 'Nuxt.js', color: '00C58E', logo: 'nuxtdotjs', logoColor: 'white', id: 'nuxtjs' },
                { name: 'Gatsby', color: '663399', logo: 'gatsby', logoColor: 'white', id: 'gatsby' },
                { name: 'Tailwind', color: '38B2AC', logo: 'tailwind-css', logoColor: 'white', id: 'tailwind' },
                { name: 'Bootstrap', color: '7952B3', logo: 'bootstrap', logoColor: 'white', id: 'bootstrap' },
                { name: 'Material UI', color: '0081CB', logo: 'mui', logoColor: 'white', id: 'materialui' },
                { name: 'Sass', color: 'CC6699', logo: 'sass', logoColor: 'white', id: 'sass' },
                { name: 'Flutter', color: '02569B', logo: 'flutter', logoColor: 'white', id: 'flutter' },
                { name: 'React Native', color: '61DAFB', logo: 'react', logoColor: 'black', id: 'react' },
                { name: 'Ionic', color: '3880FF', logo: 'ionic', logoColor: 'white', id: 'ionic' },
                { name: 'Android', color: '3DDC84', logo: 'android', logoColor: 'white', id: 'android' },
                { name: 'Three.js', color: '000000', logo: 'three.js', logoColor: 'white', id: 'threejs' },
                { name: 'Redux', color: '764ABC', logo: 'redux', logoColor: 'white', id: 'redux' },
                { name: 'Webpack', color: '8DD6F9', logo: 'webpack', logoColor: 'black', id: 'webpack' }
            ],
            backend: [
                { name: 'Node.js', color: '339933', logo: 'nodedotjs', logoColor: 'white', id: 'nodejs' },
                { name: 'Express', color: '000000', logo: 'express', logoColor: 'white', id: 'express' },
                { name: 'NestJS', color: 'E0234E', logo: 'nestjs', logoColor: 'white', id: 'nestjs' },
                { name: 'Django', color: '092E20', logo: 'django', logoColor: 'white', id: 'django' },
                { name: 'Flask', color: '000000', logo: 'flask', logoColor: 'white', id: 'flask' },
                { name: 'FastAPI', color: '009688', logo: 'fastapi', logoColor: 'white', id: 'fastapi' },
                { name: 'Spring', color: '6DB33F', logo: 'spring', logoColor: 'white', id: 'spring' },
                { name: 'Laravel', color: 'FF2D20', logo: 'laravel', logoColor: 'white', id: 'laravel' },
                { name: 'Rails', color: 'CC0000', logo: 'rubyonrails', logoColor: 'white', id: 'rails' },
                { name: '.NET', color: '512BD4', logo: 'dotnet', logoColor: 'white', id: 'dotnet' },
                { name: 'GraphQL', color: 'E10098', logo: 'graphql', logoColor: 'white', id: 'graphql' },
                { name: 'MongoDB', color: '47A248', logo: 'mongodb', logoColor: 'white', id: 'mongodb' },
                { name: 'PostgreSQL', color: '4169E1', logo: 'postgresql', logoColor: 'white', id: 'postgres' },
                { name: 'MySQL', color: '4479A1', logo: 'mysql', logoColor: 'white', id: 'mysql' },
                { name: 'Redis', color: 'DC382D', logo: 'redis', logoColor: 'white', id: 'redis' },
                { name: 'Firebase', color: 'FFCA28', logo: 'firebase', logoColor: 'black', id: 'firebase' },
                { name: 'Supabase', color: '3ECF8E', logo: 'supabase', logoColor: 'white', id: 'supabase' },
                { name: 'Cassandra', color: '1287B1', logo: 'apachecassandra', logoColor: 'white', id: 'cassandra' },
                { name: 'SQLite', color: '003B57', logo: 'sqlite', logoColor: 'white', id: 'sqlite' },
                { name: 'Prisma', color: '2D3748', logo: 'prisma', logoColor: 'white', id: 'prisma' }
            ],
            tools: [
                { name: 'Git', color: 'F05032', logo: 'git', logoColor: 'white', id: 'git' },
                { name: 'Docker', color: '2496ED', logo: 'docker', logoColor: 'white', id: 'docker' },
                { name: 'Kubernetes', color: '326CE5', logo: 'kubernetes', logoColor: 'white', id: 'kubernetes' },
                { name: 'AWS', color: '232F3E', logo: 'amazon-aws', logoColor: 'white', id: 'aws' },
                { name: 'Azure', color: '0078D4', logo: 'microsoftazure', logoColor: 'white', id: 'azure' },
                { name: 'GCP', color: '4285F4', logo: 'googlecloud', logoColor: 'white', id: 'gcp' },
                { name: 'Linux', color: 'FCC624', logo: 'linux', logoColor: 'black', id: 'linux' },
                { name: 'Nginx', color: '009639', logo: 'nginx', logoColor: 'white', id: 'nginx' },
                { name: 'Jenkins', color: 'D24939', logo: 'jenkins', logoColor: 'white', id: 'jenkins' },
                { name: 'GitHub Actions', color: '2088FF', logo: 'githubactions', logoColor: 'white', id: 'githubactions' },
                { name: 'Terraform', color: '7B42BC', logo: 'terraform', logoColor: 'white', id: 'terraform' },
                { name: 'Ansible', color: 'EE0000', logo: 'ansible', logoColor: 'white', id: 'ansible' },
                { name: 'Figma', color: 'F24E1E', logo: 'figma', logoColor: 'white', id: 'figma' },
                { name: 'Postman', color: 'FF6C37', logo: 'postman', logoColor: 'white', id: 'postman' },
                { name: 'Selenium', color: '43B02A', logo: 'selenium', logoColor: 'white', id: 'selenium' },
                { name: 'Jest', color: 'C21325', logo: 'jest', logoColor: 'white', id: 'jest' },
                { name: 'PyTorch', color: 'EE4C2C', logo: 'pytorch', logoColor: 'white', id: 'pytorch' },
                { name: 'TensorFlow', color: 'FF6F00', logo: 'tensorflow', logoColor: 'white', id: 'tensorflow' },
                { name: 'OpenCV', color: '5C3EE8', logo: 'opencv', logoColor: 'white', id: 'opencv' },
                { name: 'Unity', color: '000000', logo: 'unity', logoColor: 'white', id: 'unity' },
                { name: 'Unreal', color: '0E1128', logo: 'unrealengine', logoColor: 'white', id: 'unreal' },
                { name: 'Blender', color: 'E87D0D', logo: 'blender', logoColor: 'white', id: 'blender' },
                { name: 'Arduino', color: '00979D', logo: 'arduino', logoColor: 'white', id: 'arduino' },
                { name: 'Vim', color: '019733', logo: 'vim', logoColor: 'white', id: 'vim' },
            ]
        };

        // --- Init ---
        document.addEventListener('DOMContentLoaded', () => {
            renderSkillOptions();
            addProjectInput();
            attachListeners();
            generateMarkdown();
        });

        // --- Logic ---
        function toggleSkillMode() {
            const mode = document.getElementById('skill-display-mode').value;
            const container = document.getElementById('badge-style-container');
            if (mode === 'icons') {
                container.classList.add('hidden');
            } else {
                container.classList.remove('hidden');
            }
            renderSkillOptions(); // Re-render logic to switch visual
            generateMarkdown();
        }

        function filterSkills() {
            const query = document.getElementById('skill-search').value.toLowerCase();
            document.querySelectorAll('.skill-item').forEach(el => {
                const name = el.dataset.search.toLowerCase();
                el.style.display = name.includes(query) ? 'inline-flex' : 'none';
            });
        }

        function renderSkillOptions() {
            const mode = document.getElementById('skill-display-mode').value;
            const createItem = (skill) => {
                if (mode === 'icons') {
                    // Icon Mode Visual
                    return `
                    <label class="skill-item cursor-pointer inline-flex items-center p-2 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 transition-all select-none group" data-search="${skill.name}">
                        <input type="checkbox" class="hidden skill-checkbox" data-id="${skill.id}" data-mode="icon">
                        <img src="https://skillicons.dev/icons?i=${skill.id}" class="h-8 w-8 transition-transform group-hover:scale-110 grayscale group-hover:grayscale-0 opacity-60 group-hover:opacity-100 checked-img">
                         <div class="absolute inset-0 border-2 border-indigo-500 rounded-lg opacity-0 check-ring transition-opacity pointer-events-none"></div>
                    </label>`;
                } else {
                    // Badge Mode Visual
                    return `
                    <label class="skill-item cursor-pointer inline-flex items-center px-3 py-1.5 rounded-lg border border-white/10 bg-white/5 hover:bg-white/10 hover:border-indigo-500/50 transition-all select-none group relative overflow-hidden" data-search="${skill.name}">
                        <input type="checkbox" class="hidden skill-checkbox" 
                            data-name="${skill.name}" 
                            data-color="${skill.color}" 
                            data-logo="${skill.logo}" 
                            data-logocolor="${skill.logoColor}"
                            data-mode="badge">
                        
                        <div class="absolute inset-0 bg-indigo-500/20 translate-y-full transition-transform group-hover:translate-y-0 check-bg"></div>
                        <img src="https://img.shields.io/badge/${skill.name}-${skill.color}?style=flat&logo=${skill.logo}&logoColor=${skill.logoColor}" class="h-5 relative z-10 transition-transform group-hover:scale-105 badge-img">
                         <div class="ml-2 w-4 h-4 rounded-full border border-gray-500 flex items-center justify-center relative z-10 bg-black/40">
                            <div class="w-2 h-2 bg-indigo-400 rounded-full opacity-0 check-dot transition-opacity shadow-[0_0_10px_rgba(129,140,248,0.8)]"></div>
                        </div>
                    </label>`;
                }
            };

            document.getElementById('skills-languages').innerHTML = skillsData.languages.map(createItem).join('');
            document.getElementById('skills-frontend').innerHTML = skillsData.frontend.map(createItem).join('');
            document.getElementById('skills-backend').innerHTML = skillsData.backend.map(createItem).join('');
            document.getElementById('skills-tools').innerHTML = skillsData.tools.map(createItem).join('');

            reattachSkillListeners();
        }

        function reattachSkillListeners() {
            document.querySelectorAll('.skill-checkbox').forEach(cb => {
                cb.addEventListener('change', (e) => {
                    const parent = e.target.parentElement;
                    const mode = e.target.dataset.mode;

                    if (mode === 'icon') {
                        const img = parent.querySelector('.checked-img');
                        const ring = parent.querySelector('.check-ring');
                        if (e.target.checked) {
                            img.classList.remove('grayscale', 'opacity-60');
                            ring.classList.remove('opacity-0');
                        } else {
                            img.classList.add('grayscale', 'opacity-60');
                            ring.classList.add('opacity-0');
                        }
                    } else {
                        const dot = parent.querySelector('.check-dot');
                        const bg = parent.querySelector('.check-bg');
                        if (e.target.checked) {
                            dot.classList.remove('opacity-0');
                            parent.classList.add('border-indigo-500', 'shadow-lg');
                            bg.classList.remove('translate-y-full');
                        } else {
                            dot.classList.add('opacity-0');
                            parent.classList.remove('border-indigo-500', 'shadow-lg');
                            bg.classList.add('translate-y-full');
                        }
                    }
                    generateMarkdown();
                });
            });
        }

        // --- Projects Logic ---
        function addProjectInput(data = { name: '', desc: '', stack: '', link: '' }) {
            const id = Date.now();
            projectsData.push({ id, ...data });
            renderProjectInputs();
        }

        function removeProject(id) {
            projectsData = projectsData.filter(p => p.id !== id);
            renderProjectInputs();
            generateMarkdown();
        }

        function updateProject(id, field, value) {
            const project = projectsData.find(p => p.id === id);
            if (project) {
                project[field] = value;
                generateMarkdown();
            }
        }

        function renderProjectInputs() {
            const container = document.getElementById('projects-list');
            container.innerHTML = '';

            projectsData.forEach((p, index) => {
                const div = document.createElement('div');
                div.className = "input-group p-4 rounded-xl relative group transition-all hover:bg-white/5";
                div.innerHTML = `
                    <button onclick="removeProject(${p.id})" class="absolute top-2 right-2 text-gray-500 hover:text-red-400 opacity-0 group-hover:opacity-100 transition">
                        <i class="fas fa-times-circle text-lg"></i>
                    </button>
                    <div class="space-y-3">
                        <div class="flex items-center gap-2">
                             <i class="fas fa-project-diagram text-gray-600"></i>
                             <input type="text" placeholder="Project Name" class="font-bold text-indigo-300 placeholder-gray-600 bg-transparent border-b border-transparent focus:border-indigo-500/50" 
                                value="${p.name}" oninput="updateProject(${p.id}, 'name', this.value)">
                        </div>
                        <input type="text" placeholder="Project Description (e.g. A web app that does...)" class="text-sm text-gray-300 placeholder-gray-600 w-full" 
                            value="${p.desc}" oninput="updateProject(${p.id}, 'desc', this.value)">
                        <div class="grid grid-cols-2 gap-3">
                            <div class="input-group px-2 py-1.5 rounded-lg">
                                <input type="text" placeholder="Stack (React, Node...)" class="text-xs text-gray-400 placeholder-gray-600" 
                                    value="${p.stack}" oninput="updateProject(${p.id}, 'stack', this.value)">
                            </div>
                            <div class="input-group px-2 py-1.5 rounded-lg">
                                <input type="text" placeholder="URL (https://...)" class="text-xs text-blue-400 placeholder-gray-600" 
                                    value="${p.link}" oninput="updateProject(${p.id}, 'link', this.value)">
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        async function fetchProjects() {
            const username = document.getElementById('project-username').value.trim();
            if (!username) return alert("Please enter a GitHub username");

            const btn = document.querySelector('button[onclick="fetchProjects()"]');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
            btn.disabled = true;

            try {
                const response = await fetch(`https://api.github.com/users/${username}/repos?sort=pushed&per_page=5`);
                if (!response.ok) throw new Error('Error fetching data');
                const repos = await response.json();
                projectsData = [];
                repos.forEach(repo => {
                    projectsData.push({
                        id: Date.now() + Math.random(),
                        name: repo.name,
                        desc: repo.description || 'No description available',
                        stack: repo.language || 'Code',
                        link: repo.html_url
                    });
                });
                renderProjectInputs();
                generateMarkdown();
                if (!document.getElementById('social-github').value) document.getElementById('social-github').value = username;
            } catch (error) {
                alert(error.message);
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        function updateAllBadges() {
            const style = document.getElementById('badge-style').value;
            const imgs = document.querySelectorAll('.badge-img');
            const checkboxes = document.querySelectorAll('.skill-checkbox[data-mode="badge"]');

            checkboxes.forEach((cb, index) => {
                const name = cb.dataset.name;
                const color = cb.dataset.color;
                const logo = cb.dataset.logo;
                const logoColor = cb.dataset.logocolor;
                const newUrl = `https://img.shields.io/badge/${name}-${color}?style=${style}&logo=${logo}&logoColor=${logoColor}`;
                if (imgs[index]) imgs[index].src = newUrl;
            });
            generateMarkdown();
        }

        function attachListeners() {
            const inputs = document.querySelectorAll('input, textarea, select');
            inputs.forEach(input => {
                input.addEventListener('input', generateMarkdown);
                input.addEventListener('change', generateMarkdown);
            });
        }
        function updateProfileImage() {
            const username = document.getElementById('social-github').value.trim();
            const previewImg = document.getElementById('preview-avatar');

            if (username) {
                previewImg.src = `https://github.com/${username}.png`;
                previewImg.onerror = () => {
                    previewImg.src = 'https://via.placeholder.com/150';
                };
            } else {
                previewImg.src = 'https://via.placeholder.com/150';
            }

            generateMarkdown();
        }

        function resetForm() {
            if (confirm("Are you sure you want to reset everything?")) {
                document.getElementById("profileForm").reset();
                renderSkillOptions(); // Reset visual state
                projectsData = [];
                renderProjectInputs();
                generateMarkdown();
            }
        }

        // --- Core Generator Logic ---
        function generateMarkdown() {
            const getVal = (id) => {
                const el = document.getElementById(id);
                return el ? el.value.trim() : '';
            };
            const isChecked = (id) => {
                const el = document.getElementById(id);
                return el ? el.checked : false;
            };
            const getSelect = (id) => {
                const el = document.getElementById(id);
                return el ? el.value : '';
            };

            const name = getVal('name') || 'Your Name';
            const subtitle = getVal('subtitle') || 'A passionate developer';
            const about = getVal('about') || "I'm currently working on amazing projects!";
            const bannerUrl = getVal('banner-url');

            const working = getVal('working');
            const learning = getVal('learning');
            const collaborating = getVal('collaborating');
            const help = getVal('help');
            const askme = getVal('askme');
            const email = getVal('email');
            const funfact = getVal('funfact');
            const portfolioSite = getVal('portfolio-site');
            const blogSite = getVal('blog-site');

            // Socials
            const socialMap = [
                { id: 'github', user: getVal('social-github'), icon: 'github', color: '181717' },
                { id: 'linkedin', user: getVal('social-linkedin'), icon: 'linkedin', color: '0A66C2' },
                { id: 'twitter', user: getVal('social-twitter'), icon: 'twitter', color: '1DA1F2' },
                { id: 'instagram', user: getVal('social-instagram'), icon: 'instagram', color: 'E4405F' },
                { id: 'facebook', user: getVal('social-facebook'), icon: 'facebook', color: '1877F2' },
                { id: 'discord', user: getVal('social-discord'), icon: 'discord', color: '5865F2' },
                { id: 'medium', user: getVal('social-medium'), icon: 'medium', color: '12100E' },
                { id: 'devto', user: getVal('social-devto'), icon: 'dev.to', color: '0A0A0A' },
                { id: 'youtube', user: getVal('social-youtube'), icon: 'youtube', color: 'FF0000' },
                { id: 'twitch', user: getVal('social-twitch'), icon: 'twitch', color: '9146FF' },
                { id: 'stackoverflow', user: getVal('social-stackoverflow'), icon: 'stack-overflow', color: 'FE7A16', urlPrefix: 'https://stackoverflow.com/users/' },
                { id: 'codepen', user: getVal('social-codepen'), icon: 'codepen', color: '000000' },
                { id: 'dribbble', user: getVal('social-dribbble'), icon: 'dribbble', color: 'EA4C89' },
                { id: 'behance', user: getVal('social-behance'), icon: 'behance', color: '1769FF' },
                { id: 'leetcode', user: getVal('social-leetcode'), icon: 'leetcode', color: 'FFA116' },
                { id: 'hackerrank', user: getVal('social-hackerrank'), icon: 'hackerrank', color: '2EC866' },
                { id: 'codeforces', user: getVal('social-codeforces'), icon: 'codeforces', color: '1F8ACB' },
                { id: 'topcoder', user: getVal('social-topcoder'), icon: 'topcoder', color: '292929' },
                { id: 'kaggle', user: getVal('social-kaggle'), icon: 'kaggle', color: '20BEFF' },
            ];

            const badgeStyle = getSelect('badge-style');
            const statsTheme = getSelect('stats-theme');
            const skillMode = getSelect('skill-display-mode');

            let md = "";

            md += `# Hi üëã, I'm ${name}\n\n`;
            md += `### ${subtitle}\n\n`;

            const githubUsername = getVal('social-github');
            if (githubUsername) {
                md += `<div align="center">\n\n`;
                md += `<img src="https://github.com/${githubUsername}.png" alt="${name}" width="150" height="150" style="border-radius: 50%; border: 4px solid #007AFF;">\n\n`;
                md += `</div>\n\n`;
            }

            if (bannerUrl) md += `![Header](${bannerUrl})\n\n`;

            if (bannerUrl) md += `![Header](${bannerUrl})\n\n`;

            // Profile Views Badge
            if (isChecked('addon-visitors') && getVal('social-github')) {
                md += `<p align="left"> <img src="https://komarev.com/ghpvc/?username=${getVal('social-github')}&label=Profile%20views&color=0e75b6&style=flat" alt="${getVal('social-github')}" /> </p>\n\n`;
            }

            // Trophies
            if (isChecked('addon-trophy') && getVal('social-github')) {
                md += `<p align="left"> <a href="https://github.com/ryo-ma/github-profile-trophy"><img src="https://github-profile-trophy.vercel.app/?username=${getVal('social-github')}" alt="${getVal('social-github')}" /></a> </p>\n\n`;
            }

            // Twitter Follow
            if (isChecked('addon-twitter-badge') && getVal('social-twitter')) {
                md += `<p align="left"> <a href="https://twitter.com/${getVal('social-twitter')}" target="blank"><img src="https://img.shields.io/twitter/follow/${getVal('social-twitter')}?logo=twitter&style=for-the-badge" alt="${getVal('social-twitter')}" /></a> </p>\n\n`;
            }

            // About Items
            if (working) md += `- üî≠ I'm currently working on **${working}**\n\n`;
            if (learning) md += `- üå± I'm currently learning **${learning}**\n\n`;
            if (collaborating) md += `- üëØ I'm looking to collaborate on **${collaborating}**\n\n`;
            if (help) md += `- ü§ù I'm looking for help with **${help}**\n\n`;
            if (askme) md += `- üí¨ Ask me about **${askme}**\n\n`;
            if (email) md += `- üì´ How to reach me **${email}**\n\n`;
            if (funfact) md += `- ‚ö° Fun fact **${funfact}**\n\n`;
            if (portfolioSite) md += `- üë®‚Äçüíª All of my projects are available at **[${portfolioSite}](${portfolioSite})**\n\n`;
            if (blogSite) md += `- üìù I regularly write articles on **[${blogSite}](${blogSite})**\n\n`;

            md += `\n${about}\n\n`;

            // Connect with me
            const activeSocials = socialMap.filter(s => s.user);
            if (activeSocials.length > 0) {
                md += `<h3 align="left">Connect with me:</h3>\n`;
                md += `<p align="left">\n`;
                activeSocials.forEach(s => {
                    let url = `https://${s.id}.com/${s.user}`;
                    if (s.urlPrefix) url = s.urlPrefix + s.user;
                    if (s.id === 'discord') url = `https://discord.gg/${s.user}`; // Assuming invite code

                    md += `<a href="${url}" target="blank"><img align="center" src="https://raw.githubusercontent.com/rahuldkjain/github-profile-readme-generator/master/src/images/icons/Social/${s.icon}.svg" alt="${s.user}" height="30" width="40" /></a>\n`;
                });
                md += `</p>\n\n`;
            }

            // Skills
            const selectedSkills = Array.from(document.querySelectorAll('.skill-checkbox:checked'));
            if (selectedSkills.length > 0) {
                md += `<h3 align="left">Languages and Tools:</h3>\n`;
                md += `<p align="left"> `;

                if (skillMode === 'icons') {
                    const ids = selectedSkills.map(cb => cb.dataset.id).join(',');
                    md += `<a href="https://skillicons.dev"> <img src="https://skillicons.dev/icons?i=${ids}" /> </a>`;
                } else {
                    selectedSkills.forEach(cb => {
                        const name = cb.dataset.name;
                        const color = cb.dataset.color;
                        const logo = cb.dataset.logo;
                        const logoColor = cb.dataset.logocolor;
                        md += `<img src="https://img.shields.io/badge/${name}-${color}?style=${badgeStyle}&logo=${logo}&logoColor=${logoColor}" alt="${name}" /> `;
                    });
                }
                md += `</p>\n\n`;
            }

            // Stats
            const githubUser = getVal('social-github');
            if (githubUser) {
                if (isChecked('addon-stats')) {
                    md += `<p><img align="left" src="https://github-readme-stats.vercel.app/api/top-langs?username=${githubUser}&show_icons=true&locale=en&layout=compact&theme=${statsTheme}" alt="${githubUser}" /></p>\n\n`;
                    md += `<p>&nbsp;<img align="center" src="https://github-readme-stats.vercel.app/api?username=${githubUser}&show_icons=true&locale=en&theme=${statsTheme}" alt="${githubUser}" /></p>\n\n`;
                }
                if (isChecked('addon-streak')) {
                    md += `<p><img align="center" src="https://github-readme-streak-stats.herokuapp.com/?user=${githubUser}&theme=${statsTheme}" alt="${githubUser}" /></p>\n\n`;
                }
            }

            // Projects Table
            if (projectsData.length > 0) {
                md += `### üöÄ Projects\n\n`;
                md += `| Project | Description | Stack | Link |\n`;
                md += `| :--- | :--- | :--- | :--- |\n`;
                projectsData.forEach(p => {
                    if (p.name) {
                        const link = p.link ? `[Link](${p.link})` : ``;
                        const stack = p.stack ? p.stack : '';
                        md += `| **${p.name}** | ${p.desc} | ${stack} | ${link} |\n`;
                    }
                });
            }

            // Donations
            const coffee = getVal('donate-buymeacoffee');
            const kofi = getVal('donate-kofi');
            const patreon = getVal('donate-patreon');
            const paypal = getVal('donate-paypal');

            if (coffee || kofi || patreon || paypal) {
                md += `\n<h3 align="left">Support:</h3>\n<p align="left">\n`;
                if (coffee) md += `<a href="https://www.buymeacoffee.com/${coffee}" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;" ></a>\n`;
                if (kofi) md += `<a href="https://ko-fi.com/${kofi}" target="_blank"><img src="https://storage.ko-fi.com/cdn/kofi2.png?v=3" alt="Buy Me a Coffee at ko-fi.com" height="36" style="border:0px;height:36px;"></a>\n`;
                md += `</p>`;
            }

            // Update UI
            document.getElementById('code-output').value = md;
            document.getElementById('preview-content').innerHTML = marked.parse(md);
        }

        function switchTab(tab) {
            const previewBtn = document.getElementById('tab-preview');
            const codeBtn = document.getElementById('tab-code');
            const previewContainer = document.getElementById('preview-container');
            const codeContainer = document.getElementById('code-container');

            if (tab === 'preview') {
                previewBtn.classList.replace('bg-white/5', 'bg-indigo-600');
                previewBtn.classList.add('text-white', 'shadow-lg');
                previewBtn.classList.remove('text-gray-400');

                codeBtn.classList.remove('bg-indigo-600', 'text-white', 'shadow-lg');
                codeBtn.classList.add('text-gray-400');

                previewContainer.classList.remove('hidden');
                codeContainer.classList.add('hidden');
            } else {
                codeBtn.classList.add('bg-indigo-600', 'text-white', 'shadow-lg');
                codeBtn.classList.remove('text-gray-400');

                previewBtn.classList.remove('bg-indigo-600', 'text-white', 'shadow-lg');
                previewBtn.classList.add('text-gray-400');

                codeContainer.classList.remove('hidden');
                previewContainer.classList.add('hidden');
            }
        }

        function copyToClipboard() {
            const copyText = document.getElementById("code-output");
            copyText.select();
            copyText.setSelectionRange(0, 99999);
            navigator.clipboard.writeText(copyText.value).then(() => {
                const btn = document.querySelector('button[onclick="copyToClipboard()"]');
                const originalHTML = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                btn.classList.add('bg-emerald-500/20', 'border-emerald-500');
                setTimeout(() => {
                    btn.innerHTML = originalHTML;
                    btn.classList.remove('bg-emerald-500/20', 'border-emerald-500');
                }, 2000);
            });
        }

        function downloadMarkdown() {
            const content = document.getElementById("code-output").value;
            const blob = new Blob([content], { type: "text/markdown" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.href = url;
            a.download = "README.md";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
    </script>
</body>

</html>
